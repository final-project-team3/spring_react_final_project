<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.fproject.project_team3.mapper.UserMapper">
    <!-- HSH -->
    <select id="userLogin" parameterType="String" resultType="com.fproject.project_team3.dto.user.UserInfoDto">
        SELECT *
        FROM user_info
        WHERE user_id = #{id}
          AND user_pass = #{pass}
    </select>
    <!-- HSH -->

    <!-- LYS -->
    <insert id="insertUser" parameterType="com.fproject.project_team3.dto.user.UserInfoDto">
        INSERT INTO user_info(user_id, user_pass, user_name, user_tel, user_birth, user_gender, user_addr_num,
                              user_addr_jibun, user_addr_road, user_addr_detail)
        VALUES (#{userId}, #{userPass}, #{userName}, #{userTel}, #{userBirth}, #{userGender}, #{userAddrNum},
                #{userAddrJibun}, #{userAddrRoad}, #{userAddrDetail})
    </insert>

    <select id="emailCheck" parameterType="String" resultType="String">
        SELECT user_id
        FROM user_info
        WHERE user_id = #{userId}
    </select>

    <select id="telCheck" parameterType="String" resultType="String">
        SELECT user_tel
        FROM user_info
        WHERE user_tel = #{userTel}
    </select>

    <select id="getUserInfo" parameterType="String" resultType="com.fproject.project_team3.dto.user.UserInfoDto">
        SELECT *
        FROM user_info
        WHERE user_id = #{userId}
    </select>

    <update id="userInfoUpdate" parameterType="com.fproject.project_team3.dto.user.UserInfoDto">
        UPDATE user_info
        SET user_pass        = #{userPass},
            user_tel         = #{userTel},
            user_addr_num    = #{userAddrNum},
            user_addr_jibun  = #{userAddrJibun},
            user_addr_road   = #{userAddrRoad},
            user_addr_detail = #{userAddrDetail}
        WHERE user_id = #{userId}
    </update>

    <select id="getEmailUserInfo" parameterType="String" resultType="com.fproject.project_team3.dto.user.UserInfoDto">
        SELECT *
        FROM user_info
        WHERE user_id = #{email}
    </select>

    <select id="emailNumCheck" parameterType="String" resultType="int">
        SELECT COUNT(user_id)
        FROM user_info
        WHERE user_id = #{email};
    </select>

    <update id="postPassMail" parameterType="String">
        UPDATE user_info
        SET user_pass = #{newPass}
        WHERE user_id = #{mail}
    </update>
    <!-- LYS -->

    <!-- GJY -->
    <select id="selectLikeData" parameterType="String" resultType="com.fproject.project_team3.dto.user.UserInterestedListDto">
        SELECT *
        FROM user_interested_list
        WHERE user_id = #{userId};
    </select>

    <!-- GJY -->

    <!-- BJH -->

    <!-- BJH -->

    <!-- LSH -->

    <!-- LSH -->
</mapper>

